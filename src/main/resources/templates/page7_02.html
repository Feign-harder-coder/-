<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->

<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">

	<head>
		<title>Slog Business Bootstrap Responsive Template | Blogs :: W3layouts</title>
		<!-- Meta tag Keywords -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="UTF-8" />
		<meta name="keywords" content="Slog Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
		<script>
			addEventListener("load", function() {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }

    </script>
		<!-- //Meta tag Keywords -->
		<link href="css/dataTables.bootstrap4.css" rel="stylesheet">
		<link href="css/style.min.css" rel="stylesheet">
		<!-- Custom-Files -->
		<link rel="stylesheet" href="css/bootstrap.css">
		<!-- Bootstrap-Core-CSS -->
		<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
		<link rel="stylesheet" href="css/portfolio.css">
		<link rel="stylesheet" href="css/aos.css">
		<link href='css/aos-animation.css' rel='stylesheet prefetch' type="text/css" media="all" />
		<!-- Style-CSS -->
		<!-- font-awesome-icons -->
		<link href="css/font-awesome.css" rel="stylesheet">
		<!-- //font-awesome-icons -->
		<!-- /Fonts -->
		<link href="//fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900"
		 rel="stylesheet">
		<link href="//fonts.googleapis.com/css?family=Playfair+Display:400,400i,700i" rel="stylesheet">
		<!-- //Fonts -->

		<script src="js/echarts.min.js"></script>
		<script src="js/echarts_gl.js"></script>
		<script src="js/echarts_total.js"></script>
	</head>

	<body>
		<div class="main-content" id="home">
			<!-- header -->
			<header class="py-1">
				<div class="container">
					<nav class="navbar navbar-expand-lg navbar-light">
						<h1>
							<a class="navbar-brand" href="index.html"><i class="fa fa-ravelry" aria-hidden="true"></i></a>
						</h1>
						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
						 aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
							<span class="navbar-toggler-icon"></span>
						</button>
						<h6 style="color: white;padding-left: 20px;">股票分析与预测</h6>

						<div class="collapse navbar-collapse" id="navbarSupportedContent">
							<ul class="navbar-nav ml-4 m-auto">
							    <li class="nav-item active">
							        <a class="nav-link" href="about.html">简介 <span class="sr-only">(current)</span></a>
							    </li>

								<li class="nav-item">
									<a class="nav-link" href="page6_02">个股数据</a>
								</li>

								<li class="nav-item">
									<a class="nav-link" href="list1_01">长期榜</a>
								</li>

								<li class="nav-item">
									<a class="nav-link" href="list4">新高榜</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="list5_01">连续榜</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="list2_01">地区榜</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="list3_01">行业榜</a>
								</li>
															
							</ul>
							<div class="header-right">
								<form action="/SingleQueryController" class="form-inline">
									<input class="form-control mr-sm-2" type="search" placeholder="搜索" aria-label="Search" name="id">

									<button class="btn btn-outline-light my-2 my-sm-0" type="submit">搜索</button>

								</form>
								<!-- <a href="signin.html" class="signin mr-4"> Sign in <i class="fas fa-sign-in-alt"></i></a>
                       		<a href="register.html" class="contact">Get Started</a> -->
							</div>
						</div>
					</nav>
				</div>
			</header>
			<!-- //header -->
		</div>
		<!--/ab -->

		<!-- banner-w3layouts -->
		<section class="ab-info-main py-md-5 py-5">
			<div class="container py-md-5 py-5">
				<div class="ab-info-grids pt-md-5 pt-0">
					<div class="blog-sec pt-md-3 pt-3">
						<h3 class="tittle text-uppercase text-center mb-lg-5 mb-3 inner-tittle" th:text="${name}"><span class="sub-tittle"></span>
							XX股份</h3>
						<div class="row mt-lg-5 mt-3">
							<div class="col-lg-8 blog-left-content">
								<div class="card" data-aos="fade-up">
									</a>
									<div class="card-body">

										<div class="row my-md-5" data-aos="fade-up">

											<div id="lhb" style="width: 1000px;height:500px;"></div>

										</div>
									</div>
									<div class="card-footer">
										<small class="text-muted">Last updated 3 mins ago</small>
									</div>
								</div>

								<div class="card my-lg-5" data-aos="fade-up">

									<div class="card-body">
										<div class="row my-md-5" data-aos="fade-up">

											<div id="zxt" style="width: 1000px;height:500px;"></div>

										</div>

									</div>
									<div class="card-footer">
										<small class="text-muted">Last updated 3 mins ago</small>
									</div>
								</div>

								<div class="card" data-aos="fade-up">

									<div class="card-body">
										<div class="row my-md-5" data-aos="fade-up">

											<div id="zxtt" style="width: 1000px;height:500px;"></div>

										</div>
									</div>
									<div class="card-footer">
										<small class="text-muted">Last updated 3 mins ago</small>
									</div>
								</div>

								
							</div>
							<aside class="col-lg-4 blog-sldebar-right" >
								<div class="single-gd" data-aos="fade-up">

									
									<form action="/SingleQueryController" method="post">

										<input type="text" name="id" placeholder="个股查找" required="">
										<div class="button">

											<input type="submit" value="搜索">

										</div>
									</form>
								</div>
								
								
								<div class="single-gd" data-aos="fade-up">
									<h4>股票基本信息</h4>
									<ul class="list-group mb-3">
										<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
											<div class="text-dark">
												<h6 class="my-0">
													<span >000004</span>
													<span >国农科技</span>
												</h6>
												<small class="text-muted" >
													现&nbsp;价：<span >21.03</span>
													涨&nbsp;幅：<span >-0.97%</span>
												</small>
												<br />
												<small class="text-muted" >
													最高价：<span >22.67</span>
													最高价时间：<span >2019-03-25</span>
												</small>
												<br/>
												<small class="text-muted" >
													最低价：<span >19.48</span>
													最低价时间：<span >2019-07-22</span>
												</small>
											</div>
										</li>
										<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
											<div class="text-dark">
												<h6 class="my-0" >
													股票近期舆情得分：97
												</h6>
											</div>
										</li>
									</ul>
								
								</div>
								

								
								<div class="single-gd bg-danger text-white" data-aos="fade-up">
								<h3 style="font-size: 20px;">热门股票</h3>
																	
															
								</div>
								
								<div class="single-gd" data-aos="fade-up">
								<ul class="list-group mb-3">
									<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
										<div class="text-dark">
											<h6 class="my-0">
												<span >000418</span>
												<span >小天鹅Ａ</span>
											</h6>
											<small class="text-muted" >
												现&nbsp;价：<span >57.39</span>
												涨&nbsp;幅：<span >3.31%</span>
											</small>
											
										</div>
									</li>
									
								</ul>
																
																	
															
								</div>
								<div class="single-gd" data-aos="fade-up">
								<ul class="list-group mb-3">
									<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
										<div class="text-dark">
											<h6 class="my-0">
												<span >000049</span>
												<span >德赛电池</span>
											</h6>
											<small class="text-muted" >
												现&nbsp;价：<span >33.35</span>
												涨&nbsp;幅：<span >3.73%</span>
											</small>
											
										</div>
									</li>
									
								</ul>
																
																	
															
								</div>
																
								<div class="single-gd" data-aos="fade-up">
								<ul class="list-group mb-3">
									<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
										<div class="text-dark">
											<h6 class="my-0">
												<span >000408</span>
												<span >藏格控股</span>
											</h6>
											<small class="text-muted" >
												<span>现&nbsp;价：9.97</span>
												<span>涨&nbsp;幅：-1.39%</span>
											</small>
											
										</div>
									</li>
									
								</ul>
																
																									
								</div>
								<div class="single-gd bg-success text-white" data-aos="fade-up">
								<h3 style="font-size: 20px;">领涨股票</h3>
																	
															
								</div>
								<div class="single-gd" data-aos="fade-up">
								<ul class="list-group mb-3">
									<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
										<div class="text-dark">
											<h6 class="my-0">
												<span >000015</span>
												<span >PT中浩Ａ</span>
											</h6>
											<small class="text-muted" >
												现&nbsp;价：<span >6.85</span>
												涨&nbsp;幅：<span >10.00%</span>
											</small>
											
										</div>
									</li>
									
								</ul>
																
																															
																													
								</div>
								<div class="single-gd" data-aos="fade-up">
								<ul class="list-group mb-3">
									<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
										<div class="text-dark">
											<h6 class="my-0">
												<span >000003</span>
												<span >PT金田Ａ</span>
											</h6>
											<small class="text-muted" >
												现&nbsp;价：<span >2.71</span>
												涨&nbsp;幅：<span >5.02%</span>
											</small>
										
										</div>
									</li>
									
								</ul>
																
								</div>
								<div class="single-gd" data-aos="fade-up">
								<ul class="list-group mb-3">
									<li class="list-group-item d-flex justify-content-between lh-condensed bg-light">
										<div class="text-dark">
											<h6 class="my-0">
												<span >000034</span>
												<span >神州数码</span>
											</h6>
											<small class="text-muted" >
												现&nbsp;价：<span >13.39</span>
												涨&nbsp;幅：<span >4.53%</span>
											</small>
										
										</div>
									</li>
									
								</ul>
																
								</div>
																

							</aside>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- //banner-w3layouts -->


		<!--/newsletter -->

		<!--//newsletter-->
		<!--footer -->
		 <!--footer -->
		<footer>
		    <section class="footer footer_1its py-5">
		        <div class="container py-md-4">
		
		            <div class="row footer-top mb-md-5 mb-4">
		                <div class="col-lg-4 col-md-6 footer-grid_section_1its" data-aos="fade-right">
		                    <div class="footer-title-w3ls">
		                        <h3>Address</h3>
		                    </div>
		                    <div class="footer-text">
		                        <p>Address : 山东省淄博市张店区山东理工大学</p>
		                        <p>Phone : +12 123456789</p>
		                        <p>Email : <a href="mailto:info@example.com">123456789@qq.com</a></p>
		                        <p>Fax : +12 123456789</p>
		                    </div>
		                </div>
		                <div class="col-lg-4 col-md-6 mt-md-0 mt-4 footer-grid_section_1its">
		                    <div class="footer-title-w3ls">
		                        <h3>Quick Links</h3>
		                    </div>
		                    <div class="row">
		                        <ul class="col-6 links">
		                            <li><a href="about.html">Why Choose Us </a></li>
		                            <li><a href="about.html">Overview </a></li>
		                            <li><a href="https://www.echartsjs.com/zh/index.html">Apache EChars</a></li>
		
		                            <li><a href="https://www.thymeleaf.org/">Thymeleaf</a></li>
		                            <li><a href="https://v4.bootcss.com/">Bootstrap4 </a></li>
		                        </ul>
		                        <ul class="col-6 links">
		                            <li><a href="https://www.scala-lang.org/">Scala</a></li>
		                            <li><a href="http://spark.apache.org/">Spark</a></li>
		                            <li><a href="http://hadoop.apache.org/">Apache Hadoop </a></li>
		                            <li><a href="https://spring.io/">Spring </a></li>
		                            <li><a href="https://hbase.apache.org/">Apache HBase </a></li>
		                        </ul>
		                    </div>
		                </div>
		                <div class="col-lg-4 col-md-12 mt-lg-0 mt-4 col-sm-12 footer-grid_section_1its" data-aos="fade-left">
		                    <div class="footer-title-w3ls">
		                        <h3>Newsletter</h3>
		                    </div>
		                    <div class="footer-text">
		                        <p>By subscribing to our mailing list you will always get latest news and updates from us.</p>
		                        <form action="#" method="post">
		                            <input type="email" name="Email" placeholder="Enter your email..." required="">
		                            <button class="btn1"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
		                            <div class="clearfix"> </div>
		                        </form>
		                    </div>
		                </div>
		            </div>
		            <div class="footer-grid_section text-center">
		                <div class="footer-title-w3ls mb-3" data-aos="fade-up">
		                    <a href="index.html" class="text-uppercase"><i class="fa fa-ravelry" aria-hidden="true"></i> <span style="font-size: 30px;">股票分析与预测</span></a>
		                </div>
		                <div class="footer-text">
		                   
		                </div>
		                <ul class="social_section_1info" data-aos="fade-up">
		                    <li class="mb-2 facebook"><a href="#"><i class="fa fa-facebook mr-1"></i>facebook</a></li>
		                    <li class="mb-2 twitter"><a href="#"><i class="fa fa-twitter mr-1"></i>twitter</a></li>
		                    <li class="google"><a href="#"><i class="fa fa-google-plus mr-1"></i>google</a></li>
		                    <li class="linkedin"><a href="#"><i class="fa fa-linkedin mr-1"></i>linkedin</a></li>
		                </ul>
		            </div>
		
		        </div>
		    </section>
		</footer>
		<!-- //footer -->
		
		<!-- copy-w3layoutsright -->
		<div class="cpy-right text-center py-3">
		    <p class="copy-w3layouts">© 2019 股票分析与预测. All rights reserved | SDUT by
		    </p>
		</div>
		
		<script src="js/jquery-2.2.3.min.js"></script>
		<!--/aos -->
		<script src="js/aos.js"></script>
		<script>
			AOS.init({
				easing: 'ease-out-back',
				duration: 1000
			});
		</script>
		<!--//aos -->
		<!--/counter-->
		<script src="js/counternew.js"></script>
		<!--//counter-->
		<!--/ start-smoth-scrolling -->
		<script src="js/move-top.js"></script>
		<script src="js/easing.js"></script>
		<script>
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event) {
					event.preventDefault();
					$('html,body').animate({
						scrollTop: $(this.hash).offset().top
					}, 900);
				});
			});
		</script>
		<script>
			$(document).ready(function() {
				/*
										var defaults = {
											  containerID: 'toTop', // fading element id
											containerHoverID: 'toTopHover', // fading element hover id
											scrollSpeed: 1200,
											easingType: 'linear' 
										 };
										*/

				$().UItoTop({
					easingType: 'easeOutQuart'
				});

			});
		</script>
		<!--// end-smoth-scrolling -->

		<!-- //js -->

		<script src="js/bootstrap.js"></script>

		<script src="js/perfect-scrollbar.jquery.min.js"></script>
		<script src="js/custom.min.js"></script>
		<script src="js/datatables.min.js"></script>
		<script src="js/datatable-basic.init.js"></script>
		<script type="text/javascript" th:inline="javascript">
			var app1 = echarts.init(document.getElementById('lhb'));
			var upColor = '#ec0000';
			var upBorderColor = '#8A0000';
			var downColor = '#00da3c';
			var downBorderColor = '#008F28';
			 var list1=[[${k1_chart}]];
			// 数据意义：开盘(open)，收盘(close)，最低(lowest)，最高(highest)
 		/*var list1=[{"date":"2019-9-19","open":14.48,"close":14.41,"minp":14.48},
						{"date":"2019-9-18","open":14.24,"close":14.24,"maxp":14.48,"minp":14.24},
						{"date":"2019-9-17","open":14.36,"close":14.45,"maxp":14.45,"minp":14.18},
						{"date":"2019-9-16","open":14.7,"close":14.68,"maxp":14.72,"minp":14.4},
						{"date":"2019-9-12","open":14.66,"close":14.56,"maxp":14.78,"minp":14.53},
						{"date":"2019-9-11","open":14.6,"close":14.55,"maxp":14.71,"minp":14.46},
						{"date":"2019-9-10","open":14.6,"close":14.69,"maxp":14.64,"minp":14.41},
						{"date":"2019-9-9","open":14.98,"close":14.81,"maxp":15.0,"minp":14.6},
						{"date":"2019-9-6","open":14.71,"close":14.58,"maxp":14.81,"minp":14.62}]; 
						*/
			res1 = []
			for (var i in list1) {
					 var item = [];
					  for (var j in list1[i])
					  {
					      if(j==1)
						  {

                              /*var timing=list1[list1.length-1][0].split("2019-");
                              console.log(timing);
                              list1[i][j]=timing[0];
                              alert(timing[0]);*/
                          }

                          item.push(list1[i][j]);
					  }

					  res1.push(item)
			}
			
			var myclose=[];
			var mydate=[];
			for(var i in res1)
			{
			    if(i>=res1.length-3)
                    myclose.push(res1[i][2]);
			}

			for(var i in res1)
			{
                if(i>=res1.length-3)
                    mydate.push(res1[i][0]);
			}


			var timearr=res1[res1.length-1][0].split("-"); 
			
			var date=[];
			var base = +new Date(timearr[0], timearr[1], timearr[2]); //起始时间
			var oneDay =  24 * 3600 * 1000;
			
			for (var i = 1; i <= 3; i++) {
					var now = new Date(base += oneDay);
					date.push([now.getFullYear(),now.getMonth() , now.getDate()].join('-'));
			} 

			var data0=splitData(res1);
			function splitData(rawData) {
				var categoryData = [];
				var values = []
				for (var i = 0; i < rawData.length; i++) {
					categoryData.push(rawData[i].splice(0, 1)[0]);
					values.push(rawData[i])
				}
				return {
					categoryData: categoryData,
					values: values
				};
			}

			function calculateMA(dayCount) {
				var result = [];
				for (var i = 0, len = data0.values.length; i < len; i++) {
					if (i < dayCount) {
						result.push('-');
						continue;
					}
					var sum = 0;
					for (var j = 0; j < dayCount; j++) {
						sum += data0.values[i - j][1];
					}
					result.push(sum / dayCount);
				}
				return result;
			}
			option = {
				title: {

					left: 0
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross'
					}
				},
				legend: {
					data: ['日K', 'MA5', 'MA10', 'MA20', 'MA30']
				},
				grid: {
					left: '10%',
					right: '10%',
					bottom: '15%'
				},
				xAxis: {
					type: 'category',
					data: data0.categoryData,
					scale: true,
					boundaryGap: false,
					axisLine: {
						onZero: false
					},
					splitLine: {
						show: false
					},
					splitNumber: 20,
					min: 'dataMin',
					max: 'dataMax'
				},
				yAxis: {
					scale: true,
					splitArea: {
						show: true
					}
				},
				dataZoom: [{
						type: 'inside',
						start: 50,
						end: 100
					},
					{
						show: true,
						type: 'slider',
						y: '90%',
						start: 50,
						end: 100
					}
				],
				series: [{
						name: '日K',
						type: 'candlestick',
						data: data0.values,
						itemStyle: {
							normal: {
								color: upColor,
								color0: downColor,
								borderColor: upBorderColor,
								borderColor0: downBorderColor
							}
						},
						markPoint: {
							label: {
								normal: {
									formatter: function(param) {
										return param != null ? Math.round(param.value) : '';
									}
								}
							},
							data: [{
									name: 'XX标点',
									coord: ['2013/5/31', 2300],
									value: 2300,
									itemStyle: {
										normal: {
											color: 'rgb(41,60,85)'
										}
									}
								},
								{
									name: 'highest value',
									type: 'max',
									valueDim: 'highest'
								},
								{
									name: 'lowest value',
									type: 'min',
									valueDim: 'lowest'
								},
								{
									name: 'average value on close',
									type: 'average',
									valueDim: 'close'
								}
							],
							tooltip: {
								formatter: function(param) {
									return param.name + '<br>' + (param.data.coord || '');
								}
							}
						},
						markLine: {
							symbol: ['none', 'none'],
							data: [
								[{
										name: 'from lowest to highest',
										type: 'min',
										valueDim: 'lowest',
										symbol: 'circle',
										symbolSize: 10,
										label: {
											normal: {
												show: false
											},
											emphasis: {
												show: false
											}
										}
									},
									{
										type: 'max',
										valueDim: 'highest',
										symbol: 'circle',
										symbolSize: 10,
										label: {
											normal: {
												show: false
											},
											emphasis: {
												show: false
											}
										}
									}
								],
								{
									name: 'min line on close',
									type: 'min',
									valueDim: 'close'
								},
								{
									name: 'max line on close',
									type: 'max',
									valueDim: 'close'
								}
							]
						}
					},
					{
						name: 'MA5',
						type: 'line',
						data: calculateMA(5),
						smooth: true,
						lineStyle: {
							normal: {
								opacity: 0.5
							}
						}
					},
					{
						name: 'MA10',
						type: 'line',
						data: calculateMA(10),
						smooth: true,
						lineStyle: {
							normal: {
								opacity: 0.5
							}
						}
					},
					{
						name: 'MA20',
						type: 'line',
						data: calculateMA(20),
						smooth: true,
						lineStyle: {
							normal: {
								opacity: 0.5
							}
						}
					},
					{
						name: 'MA30',
						type: 'line',
						data: calculateMA(30),
						smooth: true,
						lineStyle: {
							normal: {
								opacity: 0.5
							}
						}
					},

				]
			};
			app1.setOption(option);
		</script>


			<script type="text/javascript" th:inline="javascript">
				var app2 = echarts.init(document.getElementById('zxt'));
				var a1=[[${future1}]];
				/* [1,2,3]; */
				/* 含义：新的预测数据; 格式：一维数组,三个值 */
				var zzb1 = myclose.concat(a1);
				var hzb1=  mydate.concat(date);
				option = {
                    tooltip: {
                        trigger: 'axis'
                    },
					title: {
							text: 'ARIMA+LSTM预测',
							x: 'center',
							align: 'right'
					},
					xAxis: {
							type: 'category',
							data: hzb1//横坐标
					},
					yAxis: {
							type: 'value'
					},
					series: [{
							data:  zzb1, //纵坐标
							type: 'line'
					}]
				};
				app2.setOption(option);
			</script>
			<script type="text/javascript" th:inline="javascript">
				var app3 = echarts.init(document.getElementById('zxtt'));
				var a2=[[${future2}]];
				/* [1,2,3]; */
				/* 含义：新的预测数据; 格式：一维数组,三个值 */
				var zzb2 = myclose.concat(a2);
				var hzb2=  mydate.concat(date);
				option = {
                    tooltip: {
                        trigger: 'axis'
                    },
					title: {
							text: 'HoltWinters+LSTM预测',
							x: 'center',
							align: 'right'
					},
					xAxis: {
							type: 'category',
							data: hzb2//横坐标
					},
					yAxis: {
							type: 'value'
					},
					series: [{
							data:  zzb2, //纵坐标
							type: 'line'
					}]
				};
				app3.setOption(option);
			</script>
	</body>
</html>
