<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->

<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org">

	<head>
		<title>Slog Business Bootstrap Responsive Template | About :: W3layouts</title>
		<!-- Meta tag Keywords -->
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta charset="UTF-8" />
		<meta name="keywords" content="Slog Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
		
		<!-- //Meta tag Keywords -->
		<link href="css/dataTables.bootstrap4.css" rel="stylesheet">
		<link href="css/style.min.css" rel="stylesheet">
		<!-- Custom-Files -->
		<link rel="stylesheet" href="css/bootstrap.css">
		<link rel="stylesheet" href="css/test001.css">
		<!-- Bootstrap-Core-CSS -->
		<link rel="stylesheet" href="css/style.css" type="text/css" media="all" />
		<link rel="stylesheet" href="css/portfolio.css">
		<link rel="stylesheet" href="css/aos.css">
		<link href='css/aos-animation.css' rel='stylesheet prefetch' type="text/css" media="all" />
		<!-- Style-CSS -->
		<!-- font-awesome-icons -->
		<link href="css/font-awesome.css" rel="stylesheet">
		<!-- //font-awesome-icons -->
		<!-- /Fonts -->
		<link href="//fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900"
		 rel="stylesheet">
		<link href="//fonts.googleapis.com/css?family=Playfair+Display:400,400i,700i" rel="stylesheet">
		<!-- //Fonts -->
		<!-- //Fonts -->
		<script src="js/echarts.min.js"></script>
		<script src="js/echarts_gl.js"></script>
		<script src="js/echarts_total.js"></script>
	<!-- 百度 map -->
		<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
		<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
		<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=HbCjBZMioVbCau8VT2uKOrANEqIGgYh9"></script>
		<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
		<script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/simplex.js"></script>

               <script src="js/jquery.min.js"></script>
               <script type="text/javascript" src="js/echarts.min.js"></script>
               <script type="text/javascript" src="js/map/china.js"></script>
		<style>
		  
		  .box-map {
		      position:relative;
		      width:1400px;
		      margin:0 auto;
		      padding-top:60px;
		  }
		  #china-map {
		      width:1000px;
		      height:860px;
		      margin:auto;
		  }
		  #back {
		      position:absolute;
		      top:40px;
		      left:0;
		      cursor:pointer;
			  background-color: #66CCFF;
		  }
		  .hidden {
		      display:none;
			
			 
		  }
		</style>
	</head>

	<body>
		<table id="table"></table>
		<script>
			$('#table').bootstrapTable({
    url: 'data1.json',
    columns: [{
        field: 'id',
        title: 'Item ID'
    }, {
        field: 'name',
        title: 'Item Name'
    }, {
        field: 'price',
        title: 'Item Price'
    }, ]
});
	
</script>

		<!-- mian-content -->
    <div class="main-content" id="home">
        <!-- header -->
        <header class="py-1">
            <div class="container">
                <nav class="navbar navbar-expand-lg navbar-light">
                    <h1>
                        <a class="navbar-brand" href="index.html"><i class="fa fa-ravelry" aria-hidden="true"></i></a>
                    </h1>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
											<span class="navbar-toggler-icon"></span>
										</button>
										<h6 style="color: white;padding-left: 20px;">股票分析与预测</h6>
								
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ml-4 m-auto">
                            <li class="nav-item active">
                                <a class="nav-link" href="about.html">简介 <span class="sr-only">(current)</span></a>
                            </li>

							<li class="nav-item">
								<a class="nav-link" href="page6_02">个股数据</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="list1_01">长期榜</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="list4">新高榜</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="list5_01">连续榜</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="list2_01">地区榜</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="list3_01">行业榜</a>
							</li>
                        							
                        </ul>
                       <div class="header-right">
                       	<form class="form-inline">
                       		<input class="form-control mr-sm-2" type="search" placeholder="搜索" aria-label="Search">
													
                       		<button class="btn btn-outline-light my-2 my-sm-0" type="submit"><a href="page7_02.html">搜索</a></button>
													
                       	</form>
                       	<!-- <a href="signin.html" class="signin mr-4"> Sign in <i class="fas fa-sign-in-alt"></i></a>
                       		<a href="register.html" class="contact">Get Started</a> -->
                       </div>
                    </div>
                </nav>
            </div>
        </header>
        <!-- //header -->
    </div>
		<!--/ab -->
		<!-- banner-w3layouts -->
		
 
		<!-- 个股数据 -->
		<section class="ab-info-main py-md-5 py-5">
			
			
	
					
					<div class="box-map" data-aos="fade-up">
					    <button id="back" class="hidden">返回全国</button>
					    <div id="china-map"></div>
					</div>
					
							 
						<section class="ab-info-main py-md-5 py-5" data-aos="fade-up">
									<div class="container py-md-5 py-5">
										<div class="ab-info-grids pt-md-5">
											<div class="contact-info pt-md-5 pt-3 text-center" style="padding-top: 0;">
												<h3 class="tittle text-uppercase text-center mb-lg-5 mb-3 inner-tittle"><span class="sub-tittle"></span>
													地区涨跌榜</h3>
											</div>
										</div>
						
										<div class="row">
											<ul class="nav nav-pills mt-3" id="pills-tab" role="tablist" style="padding-bottom: 0 ;">
												<li class="nav-item">
													<a class="nav-link active" id="showall-tab" data-toggle="pill" href="#showall" role="tab" aria-controls="showall"
													 aria-selected="true">地区涨跌股票数</a>
												</li>
												
												
												<li class="nav-item">
													<a class="nav-link" id="Tab3-Image-tab" data-toggle="pill" href="#Tab3-Image" role="tab" aria-controls="Tab3-Image"
													 aria-selected="false">地区涨跌数据</a>
												</li>
						
											</ul>
										</div>
										<div class="tab-content" id="pills-tabContent">
											<!-- 龙虎榜-->
											<div class="tab-pane fade show active" id="showall" role="tabpanel" aria-labelledby="showall-tab">
												<section class="ab-info-main py-md-5 py-5" style="padding-top: 0 !important;">
													<div class="container py-md-5 py-5" style="padding-top: 0 !important;">
														<div class="ab-info-grids pt-md-5 pt-3" style="padding-top: 0 !important;">
															<div class="ab-info pt-md-5 pt-3 text-center" style="padding-top: 0 !important;">
																<div class="row my-md-5" data-aos="fade-up">
																	<div id="lhb" style="width: 1300px;height:500px;"></div>
																</div>
																
															</div>
														</div>
													</div>
												</section>
											</div>
						
											
											<div class="tab-pane fade" id="Tab3-Image" role="tabpanel" aria-labelledby="Tab2-Image-tab">
												<section class="ab-info-main py-md-5 py-5" style="padding-top: 0 !important;">
													<div class="container py-md-5 py-5" style="padding-top: 0 !important;">
														<div class="ab-info-grids pt-md-5 pt-3" style="padding-top: 0 !important;">
															<div class="ab-info pt-md-5 pt-3 text-center">                         
																<div class="page-wrapper">
																	<div class="container-fluid">
																		<div class="row" data-aos="fade-up">
																			<div class="col-12">
																				<div class="card">
																					<div class="card-body">
																							<h4 class="card-title">地区涨跌数据</h4>
																						<div class="table-responsive">
																							<table id="latest_config" class="table table-striped table-bordered">
																								<thead>
																									<tr>
																										
																										<th>地区</th>
																										<th>总数</th>
																										<th>上涨</th>
																										<th>下跌</th>
																										<th>平均价格</th>
																										<th>平均涨幅</th>
																										<th>成交量</th>
																										<th>成交金额</th>
																										<th>领涨</th>
																										<th>当前价</th>
																										<th>涨幅</th>
																										<th>领跌</th>
																										<th>当前价</th>
																										<th>跌幅</th>	
																									</tr>
																								</thead>
																								<tbody> <!-- 变量名同数据库，外加排名num-->
																									<tr th:each="area:${area_list}">
																										
																										<td th:text="${area.industry}" th:href="@{/areaQuery(q_id=${area.industry})}">山东</td>
																										<td th:text="${area.total}">Singapore</td>
																										<td th:text="${area.up}">Singapore</td>
																										<td th:text="${area.down}">Singapore</td>
																										<td th:text="${area.avgprice}">29</td>
																										<td th:text="${area.zhangfu}">2</td>
																										<td th:text="${area.cjl}">2</td>
																										<td th:text="${area.cjj}">2</td>
																										<td th:text="${area.maxc2}">2</td>
																										<td th:text="${area.acurrent}">2</td>
																										<td th:text="${area.zf}">2</td>
																										<td th:text="${area.minc2}">2</td>
																										<td th:text="${area.icurrent}">2</td>
																										<td th:text="${area.minzf}">2</td>
																									</tr>
																								</tbody>
																								<tfoot>
																									<tr>
																										
																										<th>地区</th>
																										<th>公司家数</th>
																										<th>平均价格</th>
																										<th>涨幅</th>
																										<th>成交量（万手）</th>
																										<th>成交金额（亿元）</th>
																										<th>领涨股票</th>
																										<th>当前价</th>
																										<th>涨幅</th>
																										<th>领跌股票</th>
																										<th>当前价</th>
																										<th>跌幅</th>	
																									</tr>
																								</tfoot>
																							</table>
																						</div>
																					</div>
																				</div>
																			</div>
																		</div>
																	</div>
																	<footer class="footer text-center">
																		All Rights Reserved by AdminBite admin. Designed and Developed by <a href="https://wrappixel.com/">WrapPixel</a>.
																	</footer>
																</div>
															</div>
														</div>
													</div>
												</section>
											</div>
											<div class="clearfix"></div>
										</div>
									</div>
								</section>
		</section>
		<footer>
		    <section class="footer footer_1its py-5">
		        <div class="container py-md-4">
		
		            <div class="row footer-top mb-md-5 mb-4">
		                <div class="col-lg-4 col-md-6 footer-grid_section_1its" data-aos="fade-right">
		                    <div class="footer-title-w3ls">
		                        <h3>Address</h3>
		                    </div>
		                    <div class="footer-text">
		                        <p>Address : 山东省淄博市张店区山东理工大学</p>
		                        <p>Phone : +12 123456789</p>
		                        <p>Email : <a href="mailto:info@example.com">123456789@qq.com</a></p>
		                        <p>Fax : +12 123456789</p>
		                    </div>
		                </div>
		                <div class="col-lg-4 col-md-6 mt-md-0 mt-4 footer-grid_section_1its">
		                    <div class="footer-title-w3ls">
		                        <h3>Quick Links</h3>
		                    </div>
		                    <div class="row">
		                        <ul class="col-6 links">
		                            <li><a href="about.html">Why Choose Us </a></li>
		                            <li><a href="about.html">Overview </a></li>
		                            <li><a href="https://www.echartsjs.com/zh/index.html">Apache EChars</a></li>
		
		                            <li><a href="https://www.thymeleaf.org/">Thymeleaf</a></li>
		                            <li><a href="https://v4.bootcss.com/">Bootstrap4 </a></li>
		                        </ul>
		                        <ul class="col-6 links">
		                            <li><a href="https://www.scala-lang.org/">Scala</a></li>
		                            <li><a href="http://spark.apache.org/">Spark</a></li>
		                            <li><a href="http://hadoop.apache.org/">Apache Hadoop </a></li>
		                            <li><a href="https://spring.io/">Spring </a></li>
		                            <li><a href="https://hbase.apache.org/">Apache HBase </a></li>
		                        </ul>
		                    </div>
		                </div>
		                <div class="col-lg-4 col-md-12 mt-lg-0 mt-4 col-sm-12 footer-grid_section_1its" data-aos="fade-left">
		                    <div class="footer-title-w3ls">
		                        <h3>Newsletter</h3>
		                    </div>
		                    <div class="footer-text">
		                        <p>By subscribing to our mailing list you will always get latest news and updates from us.</p>
		                        <form action="#" method="post">
		                            <input type="email" name="Email" placeholder="Enter your email..." required="">
		                            <button class="btn1"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
		                            <div class="clearfix"> </div>
		                        </form>
		                    </div>
		                </div>
		            </div>
		            <div class="footer-grid_section text-center">
		                <div class="footer-title-w3ls mb-3" data-aos="fade-up">
		                    <a href="index.html" class="text-uppercase"><i class="fa fa-ravelry" aria-hidden="true"></i> <span style="font-size: 30px;">股票分析与预测</span></a>
		                </div>
		                <div class="footer-text">
		                   
		                </div>
		                <ul class="social_section_1info" data-aos="fade-up">
		                    <li class="mb-2 facebook"><a href="#"><i class="fa fa-facebook mr-1"></i>facebook</a></li>
		                    <li class="mb-2 twitter"><a href="#"><i class="fa fa-twitter mr-1"></i>twitter</a></li>
		                    <li class="google"><a href="#"><i class="fa fa-google-plus mr-1"></i>google</a></li>
		                    <li class="linkedin"><a href="#"><i class="fa fa-linkedin mr-1"></i>linkedin</a></li>
		                </ul>
		            </div>
		
		        </div>
		    </section>
		</footer>
		<!-- //footer -->
		
		<!-- copy-w3layoutsright -->
		<div class="cpy-right text-center py-3">
		    <p class="copy-w3layouts">© 2019 股票分析与预测. All rights reserved | SDUT by
		    </p>
		</div>
		
		<script src="js/jquery-2.2.3.min.js"></script>
		<!--/aos -->
		<script src="js/aos.js"></script>
		<script>
			AOS.init({
				easing: 'ease-out-back',
				duration: 1000
			});
		</script>
		<!--//aos -->
		<!--/counter-->
		<script src="js/counternew.js"></script>
		<!--//counter-->
		<!--/ start-smoth-scrolling -->
		<script src="js/move-top.js"></script>
		<script src="js/easing.js"></script>
		<script>
			jQuery(document).ready(function($) {
				$(".scroll").click(function(event) {
					event.preventDefault();
					$('html,body').animate({
						scrollTop: $(this.hash).offset().top
					}, 900);
				});
			});
		</script>
		<script>
			$(document).ready(function() {
				/*
										var defaults = {
											  containerID: 'toTop', // fading element id
											containerHoverID: 'toTopHover', // fading element hover id
											scrollSpeed: 1200,
											easingType: 'linear' 
										 };
										*/

				$().UItoTop({
					easingType: 'easeOutQuart'
				});

			});
		</script>
		<!--// end-smoth-scrolling -->

		<!-- //js -->

		<script src="js/bootstrap.js"></script>


		<script src="js/perfect-scrollbar.jquery.min.js"></script>
		<script src="js/custom.min.js"></script>
		<script src="js/datatables.min.js"></script>
		<script src="js/datatable-basic.init.js"></script>


		<!-- 以下，移动到单独js里 -->
			<script type="text/javascript" th:inline="javascript">
			// 基于准备好的dom，初始化echarts实例
			/*        var myChart = echarts.init(document.getElementById('main'));
			 */
			var city_num = echarts.init(document.getElementById('lhb'));
			var app = {};
			var posList = [
				'left', 'right', 'top', 'bottom',
				'inside',
				'insideTop', 'insideLeft', 'insideRight', 'insideBottom',
				'insideTopLeft', 'insideTopRight', 'insideBottomLeft', 'insideBottomRight'
			];
		
			app.configParameters = {
				rotate: {
					min: -90,
					max: 90
				},
				align: {
					options: {
						left: 'left',
						center: 'center',
						right: 'right'
					}
				},
				verticalAlign: {
					options: {
						top: 'top',
						middle: 'middle',
						bottom: 'bottom'
					}
				},
				position: {
					options: echarts.util.reduce(posList, function(map, pos) {
						map[pos] = pos;
						return map;
					}, {})
				},
				distance: {
					min: 0,
					max: 100
				}
			};
		
			app.config = {
				rotate: 90,
				align: 'left',
				verticalAlign: 'middle',
				position: 'insideBottom',
				distance: 15,
				onChange: function() {
					var labelOption = {
						normal: {
							rotate: app.config.rotate,
							align: app.config.align,
							verticalAlign: app.config.verticalAlign,
							position: app.config.position,
							distance: app.config.distance
						}
					};
					myChart.setOption({
						series: [{
							label: labelOption
						}, {
							label: labelOption
						}, {
							label: labelOption
						}, {
							label: labelOption
						}]
					});
				}
			};
		
		
			var labelOption = {
				normal: {
					show: true,
					position: app.config.position,
					distance: app.config.distance,
					align: app.config.align,
					verticalAlign: app.config.verticalAlign,
					rotate: app.config.rotate,
					formatter: '{c}  {name|{a}}',
					fontSize: 16,
					rich: {
						name: {
							textBorderColor: '#fff'
						}
					}
				}
			};
		
			option = {
				color: ['#5793f3' , '#d14a61'],
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'shadow'
					}
				},
				
				legend: {
					data: ['上涨', '下跌']
				},
				toolbox: {
					show: true,
					orient: 'vertical',
					left: 'right',
					top: 'center',
					feature: {
						mark: {
							show: true
						},
						dataView: {
							show: true,
							readOnly: false
						},
						magicType: {
							show: true,
							type: ['line', 'bar', 'stack', 'tiled']
						},
						restore: {
							show: true
						},
						saveAsImage: {
							show: true
						}
					}
				},
				calculable: true,
				xAxis: [{
					type: 'category',
					axisTick: {
						show: false
					},
					data: [[${name_cchart}]]
					/* ['广东', '深圳', '淄博', '济南', '淄博', '淄博', '淄博', '淄博', '淄博', '淄博', '淄博', '淄博'] */
				}],
				yAxis: [{
					type: 'value'
				}],
				series: [
		
					{
						name: '上涨',
						type: 'bar',
						label: labelOption,
						data: [[${up_cchart}]]
						/* [150, 232, 201, 154, 200, 150, 232, 201, 200, 150, 232, 201] */
					},
					{
						name: '下跌',
						type: 'bar',
						label: labelOption,
						data: [[${down_cchart}]]
						/* [98, 77, 101, 99, 98, 77, 101, 99, 98, 77, 101, 99] */
					}
				]
			};
			
			city_num.setOption(option);
			window.addEventListener("resize",function(){
			
							city_num.setOption(option1);
			
						});
		</script>
		
				<!-- baidu map -->
			 <script type="text/javascript" th:inline="javascript">
			  // 金额转换万字单位 start
			  function unitConvert(num) {
			      if (num) {
			          var moneyUnits = ["", "万"],
			              dividend = 10000,
			              curentNum = num, //转换数字
			              curentUnit = moneyUnits[0]; //转换单位 
			          for (var i = 0; i < 2; i++) {
			              curentUnit = moneyUnits[i];
			              if (strNumSize(curentNum) < 5) {
			                  return num;
			              }
			          }
			          curentNum = curentNum / dividend;
			          var m = {
			              num: 0,
			              unit: ""
			          }
			          m.num = curentNum.toFixed(2);
			          m.unit = curentUnit;
			          return m.num + m.unit;
			      }
			 
				}
			
			  function strNumSize(tempNum) {
			      var stringNum = tempNum.toString()
			      var index = stringNum.indexOf(".")
			      var newNum = stringNum
			      if (index != -1) {
			          newNum = stringNum.substring(0, index)
			      }
			      return newNum.length;
			  }
			  // 金额转换万字单位 end
			  var myChart = echarts.init(document.getElementById('china-map'));
			  var oBack = document.getElementById("back");
			
			  var provinces = ['shanghai', 'hebei', 'shanxi', 'neimenggu', 'liaoning', 'jilin', 'heilongjiang', 'jiangsu', 'zhejiang', 'anhui', 'fujian', 'jiangxi', 'shandong', 'henan', 'hubei', 'hunan', 'guangdong', 'guangxi', 'hainan', 'sichuan', 'guizhou', 'yunnan', 'xizang', 'shanxi1', 'gansu', 'qinghai', 'ningxia', 'xinjiang', 'beijing', 'tianjin', 'chongqing', 'xianggang', 'aomen'];
			  var provincesText = ['上海', '河北', '山西', '内蒙古', '辽宁', '吉林', '黑龙江', '江苏', '浙江', '安徽', '福建', '江西', '山东', '河南', '湖北', '湖南', '广东', '广西', '海南', '四川', '贵州', '云南', '西藏', '陕西', '甘肃', '青海', '宁夏', '新疆', '北京', '天津', '重庆', '香港', '澳门'];
			 var toolTipData =[[${map_cchart}]] ;
		/* 字段含义：
			 "provinceName": null,//省份名称
			 "provinceKey": null,
			 "cityName": "省直辖行政单位",
			 "cityKey": 659000,//领涨公司
			 "shopCount": 2,//公司总数
			 "totalPrice": 5533.4,//下跌公司
			 "orderCount": 255,//上涨公司
			 "onlineCount": 0 //领跌公司
		*/
				// 全国省份数据
/* 			  var toolTipData = [{
			      "provinceName": "北京",
			      "provinceKey": 110000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 58,
			      "totalPrice": 860448.7,
			      "orderCount": 31744,
			      "onlineCount": 0
			  }, {
			      "provinceName": "天津",
			      "provinceKey": 120000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 74,
			      "totalPrice": 697438.3,
			      "orderCount": 30025,
			      "onlineCount": 0
			  }, {
			      "provinceName": "河北",
			      "provinceKey": 130000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 175,
			      "totalPrice": 1051461.5,
			      "orderCount": 50625,
			      "onlineCount": 0
			  }, {
			      "provinceName": "山西",
			      "provinceKey": 140000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 73,
			      "totalPrice": 432680.2,
			      "orderCount": 20427,
			      "onlineCount": 0
			  }, {
			      "provinceName": "内蒙古",
			      "provinceKey": 150000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 46,
			      "totalPrice": 379952.5,
			      "orderCount": 14585,
			      "onlineCount": 0
			  }, {
			      "provinceName": "辽宁",
			      "provinceKey": 210000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 74,
			      "totalPrice": 543290.6,
			      "orderCount": 27143,
			      "onlineCount": 0
			  }, {
			      "provinceName": "吉林",
			      "provinceKey": 220000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 25,
			      "totalPrice": 234353.7,
			      "orderCount": 11123,
			      "onlineCount": 0
			  }, {
			      "provinceName": "黑龙江",
			      "provinceKey": 230000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 25,
			      "totalPrice": 152894.8,
			      "orderCount": 6481,
			      "onlineCount": 0
			  }, {
			      "provinceName": "上海",
			      "provinceKey": 310000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 78,
			      "totalPrice": 665877.5,
			      "orderCount": 26753,
			      "onlineCount": 0
			  }, {
			      "provinceName": "江苏",
			      "provinceKey": 320000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 475,
			      "totalPrice": 3302139.4,
			      "orderCount": 158180,
			      "onlineCount": 0
			  }, {
			      "provinceName": "浙江",
			      "provinceKey": 330000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 332,
			      "totalPrice": 2285259.3,
			      "orderCount": 116344,
			      "onlineCount": 0
			  }, {
			      "provinceName": "安徽",
			      "provinceKey": 340000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 168,
			      "totalPrice": 1081322.1,
			      "orderCount": 57139,
			      "onlineCount": 0
			  }, {
			      "provinceName": "福建",
			      "provinceKey": 350000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 145,
			      "totalPrice": 1352019.8,
			      "orderCount": 65228,
			      "onlineCount": 0
			  }, {
			      "provinceName": "江西",
			      "provinceKey": 360000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 103,
			      "totalPrice": 689353.7,
			      "orderCount": 31822,
			      "onlineCount": 0
			  }, {
			      "provinceName": "山东",
			      "provinceKey": 370000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 198,
			      "totalPrice": 1177320.9,
			      "orderCount": 59966,
			      "onlineCount": 0
			  }, {
			      "provinceName": "河南",
			      "provinceKey": 410000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 184,
			      "totalPrice": 953710.6,
			      "orderCount": 52829,
			      "onlineCount": 0
			  }, {
			      "provinceName": "湖北",
			      "provinceKey": 420000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 125,
			      "totalPrice": 890921.4,
			      "orderCount": 46768,
			      "onlineCount": 0
			  }, {
			      "provinceName": "湖南",
			      "provinceKey": 430000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 111,
			      "totalPrice": 1007182.7,
			      "orderCount": 44094,
			      "onlineCount": 0
			  }, {
			      "provinceName": "广东",
			      "provinceKey": 440000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 384,
			      "totalPrice": 3792306.1,
			      "orderCount": 165774,
			      "onlineCount": 0
			  }, {
			      "provinceName": "广西",
			      "provinceKey": 450000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 194,
			      "totalPrice": 1252955,
			      "orderCount": 69882,
			      "onlineCount": 0
			  }, {
			      "provinceName": "海南",
			      "provinceKey": 460000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 58,
			      "totalPrice": 617514,
			      "orderCount": 33090,
			      "onlineCount": 0
			  }, {
			      "provinceName": "重庆",
			      "provinceKey": 500000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 35,
			      "totalPrice": 468892.6,
			      "orderCount": 20163,
			      "onlineCount": 0
			  }, {
			      "provinceName": "四川",
			      "provinceKey": 510000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 127,
			      "totalPrice": 793622.7,
			      "orderCount": 43625,
			      "onlineCount": 0
			  }, {
			      "provinceName": "贵州",
			      "provinceKey": 520000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 78,
			      "totalPrice": 659747.2,
			      "orderCount": 28817,
			      "onlineCount": 0
			  }, {
			      "provinceName": "云南",
			      "provinceKey": 530000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 87,
			      "totalPrice": 657485.2,
			      "orderCount": 30916,
			      "onlineCount": 0
			  }, {
			      "provinceName": "西藏",
			      "provinceKey": 540000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 5,
			      "totalPrice": 106922.4,
			      "orderCount": 2470,
			      "onlineCount": 0
			  }, {
			      "provinceName": "陕西",
			      "provinceKey": 610000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 65,
			      "totalPrice": 589961.2,
			      "orderCount": 27093,
			      "onlineCount": 0
			  }, {
			      "provinceName": "甘肃",
			      "provinceKey": 620000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 40,
			      "totalPrice": 248209.2,
			      "orderCount": 12390,
			      "onlineCount": 0
			  }, {
			      "provinceName": "青海",
			      "provinceKey": 630000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 3,
			      "totalPrice": 33328.1,
			      "orderCount": 1161,
			      "onlineCount": 0
			  }, {
			      "provinceName": "宁夏",
			      "provinceKey": 640000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 14,
			      "totalPrice": 146590.7,
			      "orderCount": 5240,
			      "onlineCount": 0
			  }, {
			      "provinceName": "新疆",
			      "provinceKey": 650000,
			      "cityName": null,
			      "cityKey": null,
			      "shopCount": 43,
			      "totalPrice": 294423.4,
			      "orderCount": 11741,
			      "onlineCount": 0
			  }]*/
			  var seriesData = [];
			  for (var i = 0; i < toolTipData.length; i++) {
			      seriesData[i] = {};
			      seriesData[i].name = toolTipData[i].provinceName;
			      seriesData[i].value = toolTipData[i].shopCount;
			      seriesData[i].provinceKey = toolTipData[i].provinceKey;
			  }
			  // 请求省市数据，传递provinceKey进行ajax请求 province(key)
			  var provinceData = [{
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "乌鲁木齐市",
			      "cityKey": 650100,
			      "shopCount": 17,
			      "totalPrice": 89429.1,
			      "orderCount": 4019,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "克拉玛依市",
			      "cityKey": 650200,
			      "shopCount": 1,
			      "totalPrice": 363.6,
			      "orderCount": 17,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "昌吉回族自治州",
			      "cityKey": 652300,
			      "shopCount": 3,
			      "totalPrice": 2203.7,
			      "orderCount": 82,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "博尔塔拉蒙古自治州",
			      "cityKey": 652700,
			      "shopCount": 1,
			      "totalPrice": 7327.7,
			      "orderCount": 236,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "巴音郭楞蒙古自治州",
			      "cityKey": 652800,
			      "shopCount": 2,
			      "totalPrice": 28768.4,
			      "orderCount": 961,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "阿克苏地区",
			      "cityKey": 652900,
			      "shopCount": 5,
			      "totalPrice": 78415.2,
			      "orderCount": 3108,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "喀什地区",
			      "cityKey": 653100,
			      "shopCount": 4,
			      "totalPrice": 38870.1,
			      "orderCount": 1477,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "和田地区",
			      "cityKey": 653200,
			      "shopCount": 1,
			      "totalPrice": 10488,
			      "orderCount": 218,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "伊犁哈萨克自治州",
			      "cityKey": 654000,
			      "shopCount": 6,        
			      "totalPrice": 32864.2,
			      "orderCount": 1363,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "塔城地区",
			      "cityKey": 654200,
			      "shopCount": 1,
			      "totalPrice": 160,
			      "orderCount": 5,
			      "onlineCount": 0
			  }, {
			      "provinceName": null,
			      "provinceKey": null,
			      "cityName": "省直辖行政单位",
			      "cityKey": 659000,
			      "shopCount": 2,
			      "totalPrice": 5533.4,
			      "orderCount": 255,
			      "onlineCount": 0
			  }];
			  var seriesDataPro = [];
			  for (var i = 0; i < provinceData.length; i++) {
			      seriesDataPro[i] = {};
			      seriesDataPro[i].name = provinceData[i].cityName;
			      seriesDataPro[i].value = provinceData[i].shopCount;
			  }
			
			  var max = Math.max.apply(Math, seriesData.map(function(o) {
			          return o.value
			      })),
			      min = 0; // 侧边最大值最小值
			  var maxSize4Pin = 40,
			      minSize4Pin = 30;
			  // 点击返回按钮
			  oBack.onclick = function() {
			      $('#back').addClass('hidden');
			      mapName = '';
			      initEcharts("china", "中国");
			  };
			
			  var mapName = '';
			
			  function getGeoCoordMap(name) {
			      name = name ? name : 'china';
			      /*获取地图数据*/
			      var geoCoordMap = {};
			      myChart.showLoading(); // loading start
			      var mapFeatures = echarts.getMap(name).geoJson.features;
			      myChart.hideLoading(); // loading end
			      mapFeatures.forEach(function(v) {
			          var name = v.properties.name; // 地区名称
			          geoCoordMap[name] = v.properties.cp; // 地区经纬度
			      });
			      return geoCoordMap;
			  }
			
			  function convertData(data) { // 转换数据
			      var geoCoordMap = getGeoCoordMap(mapName);
			      var res = [];
			      for (var i = 0; i < data.length; i++) {
			          var geoCoord = geoCoordMap[data[i].name]; // 数据的名字对应的经纬度
			          if (geoCoord) { // 如果数据data对应上，
			              res.push({
			                  name: data[i].name,
			                  value: geoCoord.concat(data[i].value),
			              });
			          }
			      }
			      return res;
			  };
			  // 初始化echarts-map
			  initEcharts("china", "  ");
			
			  function initEcharts(pName, Chinese_) {
			      var tmpSeriesData = pName === "china" ? seriesData : seriesDataPro;
			      var tmp = pName === "china" ? toolTipData : provinceData;
			      var option = {
			          title: {
			              text: Chinese_ || pName,
			              left: 'center'
			          },
			          tooltip: {
			              trigger: 'item',
			              formatter: function(params) { // 鼠标滑过显示的数据
			                  if (pName === "china") {
			                      var toolTiphtml = ''
			                      for (var i = 0; i < tmp.length; i++) {
			                          if (params.name == tmp[i].provinceName) {
			                              toolTiphtml += tmp[i].provinceName + '<br>公司总数：'+tmp[i].shopCount   + '<br>上涨公司：' + tmp[i].orderCount + '<br>下跌公司：' + tmp[i].totalPrice +'<br>领涨公司：' + tmp[i].cityKey +'<br>领跌公司：' + tmp[i]. onlineCount; 
			                          }
			                      }
			                      return toolTiphtml;
			                  } else {
			                      var toolTiphtml = ''
			                      for (var i = 0; i < tmp.length; i++) {
			                          if (params.name == tmp[i].cityName) {
			                              toolTiphtml += tmp[i].cityName + '<br>公司总数：'+tmp[i].shopCount   + '<br>上涨公司：' + tmp[i].orderCount + '<br>下跌公司：' + tmp[i].totalPrice +'<br>领涨公司：' + tmp[i].cityKey +'<br>领跌公司：' + tmp[i]. onlineCount +'<br>平均涨幅：' + tmp[i]. provinceKey
                                          ;

			                          }
			                      }
			                      return toolTiphtml;
			                  }
			              }
			          },
			          visualMap: { //视觉映射组件
			              show: true,
			              min: min,
			              max: max, // 侧边滑动的最大值，从数据中获取
			              left: '5%',
			              top: '96%',
			              inverse: true, //是否反转 visualMap 组件
			              // itemHeight:200,  //图形的高度，即长条的高度
			              text: ['高', '低'], // 文本，默认为数值文本
			              calculable: false, //是否显示拖拽用的手柄（手柄能拖拽调整选中范围）
			              seriesIndex: 1, //指定取哪个系列的数据，即哪个系列的 series.data,默认取所有系列
			              orient: "horizontal",
			              inRange: {
			                  color: ['#dbfefe', '#1066d5'] // 蓝绿
			              }
			          },
			          geo: {
			              show: true,
			              map: pName,
			              roam: false,
			              label: {
			                  normal: {
			                      show: false
			                  },
			                  emphasis: {
			                      show: false,
			                  }
			              },
			              itemStyle: {
			                  normal: {
			                      areaColor: '#3c8dbc', // 没有值得时候颜色
			                      borderColor: '#097bba',
			                  },
			                  emphasis: {
			                      areaColor: '#fbd456', // 鼠标滑过选中的颜色
			                  }
			              }
			          },
			          series: [{
			                  name: '散点',
			                  type: 'scatter',
			                  coordinateSystem: 'geo',
			                  data: tmpSeriesData,
			                  symbolSize: '1',
			                  label: {
			                      normal: {
			                          show: true,
			                          formatter: '{b}',
			                          position: 'right'
			                      },
			                      emphasis: {
			                          show: true
			                      }
			                  },
			                  itemStyle: {
			                      normal: {
			                          color: '#895139' // 字体颜色
			                      }
			                  }
			              },
			              {
			                  name: Chinese_ || pName,
			                  type: 'map',
							  zoom: '1.3',
			                  mapType: pName,
			                  roam: false, //是否开启鼠标缩放和平移漫游
			                  data: tmpSeriesData,
			                  // top: "3%",//组件距离容器的距离
			                  // geoIndex: 0,
			                  // aspectScale: 0.75,       //长宽比
			                  // showLegendSymbol: false, // 存在legend时显示
			                  selectedMode: 'single',
			                  label: {
			                      normal: {
			                          show: true, //显示省份标签
			                          textStyle: {
			                              color: "#895139"
			                          } //省份标签字体颜色
			                      },
			                      emphasis: { //对应的鼠标悬浮效果
			                          show: true,
			                          textStyle: {
			                              color: "#323232"
			                          }
			                      }
			                  },
			                  itemStyle: {
			                      normal: {
			                          borderWidth: .5, //区域边框宽度
			                          borderColor: '#0550c3', //区域边框颜色
			                          areaColor: "#0b7e9e", //区域颜色
			                      },
			                      emphasis: {
			                          borderWidth: .5,
			                          borderColor: '#4b0082',
			                          areaColor: "#ece39e",
			                      }
			                  }
			              },
			              {
			                  name: '点',
			                  type: 'scatter',
			                  coordinateSystem: 'geo',
			                  symbol: 'pin', //气泡
			                  symbolSize: function(val) {
			                      var a = (maxSize4Pin - minSize4Pin) / (max - min);
			                      var b = minSize4Pin - a * min;
			                      b = maxSize4Pin - a * max;
			                      return a * val[2] + b;
			                  },
			                  label: {
			                      normal: {
			                          show: true,
			                          formatter: function(params) {
			                              return params.data.value[2];
			                          },
			                          textStyle: {
			                              color: '#fff',
			                              fontSize: 9
			                          }
			                      }
			                  },
			                  itemStyle: {
			                      normal: {
			                          color: 'red' //标志颜色'#F62157'
			                      }
			                  },
			                  zlevel: 6,
			                  data: convertData(tmpSeriesData),
			              },
			          ]
			      };
			      // 针对海南放大
			      if (pName == '海南') {
			          option.series[1].center = [109.844902, 19.0392];
			          option.series[1].layoutCenter = ['50%', '50%'];
			          option.series[1].layoutSize = "300%";
			      } else { //非显示海南时，将设置的参数恢复默认值
			          option.series[1].center = undefined;
			          option.series[1].layoutCenter = undefined;
			          option.series[1].layoutSize = undefined;
			      }
			      myChart.setOption(option);
			      /* 响应式 */
			      $(window).resize(function() {
			          myChart.resize();
			      });
			
			      myChart.off("click");
			
			      if (pName === "china") { // 全国时，添加click 进入省级
			          myChart.on('click', function(param) {
			              // console.log(param.name);
			              if (param.data && param.data.provinceKey) {
			                  var key = param.data.provinceKey;
			                  // province(key);  省份请求
			                  if (provinceData.length) {
			                      $('#back').removeClass('hidden');
			                      // 遍历取到provincesText 中的下标  去拿到对应的省js
			                      for (var i = 0; i < provincesText.length; i++) {
			                          if (param.name === provincesText[i]) {
			                              mapName = provincesText[i];
			                              //显示对应省份的方法
			                              showProvince(provinces[i], provincesText[i]);
			                              break;
			                          }
			                      }
			                  }
			              }
			          });
			      } else { // 省份，添加双击 回退到全国
			          myChart.on("dblclick", function() {
			              $('#back').addClass('hidden');
			              mapName = '';
			              initEcharts("china", "中国");
			          });
			      }
			  }
			
			  // 展示对应的省
			  function showProvince(pName, Chinese_) {
			      //这写省份的js都是通过在线构建工具生成的，保存在本地，需要时加载使用即可，最好不要一开始全部直接引入。
			      loadBdScript('$' + pName + 'JS', './js/map/province/' + pName + '.js', function() {
			          initEcharts(Chinese_);
			      });
			  }
			
			  // 加载对应的JS
			  function loadBdScript(scriptId, url, callback) {
			      var script = document.createElement("script");
			      script.type = "text/javascript";
			      if (script.readyState) { //IE
			          script.onreadystatechange = function() {
			              if (script.readyState === "loaded" || script.readyState === "complete") {
			                  script.onreadystatechange = null;
			                  callback();
			              }
			          };
			      } else { // Others
			          script.onload = function() {
			              callback();
			          };
			      }
			      script.src = url;
			      script.id = scriptId;
			      document.getElementsByTagName("head")[0].appendChild(script);
			  };
			</script>
	</body>

</html>
